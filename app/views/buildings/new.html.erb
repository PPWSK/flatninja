

<div class="row">
  <div class="col-sm-2"></div>
  <div class="col-sm-8">
    <div class="row">

      <!-- left: BUILDING -->

      <div class="col-sm-5" name="building">
        <div class="row">
          <div class="col-sm-12">
            <h3>The building:</h3><br>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <%= render 'form' %>
          </div>
        </div>
      </div>

      <!-- middle: SPACE -->

      <div class="col-sm-2"></div>

      <!-- right: ROOMS -->

      <div class="col-sm-5" name="rooms">

        <div class="row">
          <div class="col-sm-12" id="notify_me">
            <h3></h3>
          </div>
        </div>

        <div class="row">
          <div class="col-sm-12 room-card" id="room1">
            room1
          </div>
        </div>

        <div class="row">
          <div class="col-sm-12 room-card" id="room2">
            room2
          </div>
        </div>

        <div class="row">
          <div class="col-sm-12 room-card" id="room3">
            room3
          </div>
        </div>

        <div class="row">
          <div class="col-sm-12 room-card" id="room4">
            room4
          </div>
        </div>

        <div class="row">
          <div class="col-sm-12 room-card" id="room5">
            room5
          </div>
        </div>

      </div>
    </div>
  </div>
  <div class="col-sm-2"></div>
</div>

<!-- JQUERY SECTION -->

<% content_for(:after_js) do %>
  <%= javascript_tag do %>
    $(document).ready(function(){

        var spare_rooms = 0;
        calculate();
        add_rooms_html();

        $('#building_number_of_rooms').change(function(){
          calculate();
          add_rooms_html();
        });

        $('#building_number_of_roommates').change(function(){
          calculate();
          add_rooms_html();
        });

        function calculate(){
          var n_rooms = $('#building_number_of_rooms').val();
          var n_roommates = $('#building_number_of_roommates').val();
          spare_rooms = n_rooms - n_roommates;

        }

        function add_rooms_html(){
          console.log(spare_rooms);

          switch(spare_rooms) {
            case 5:
              $("#room1").css("visibility", "visible");
              $("#room2").css("visibility", "visible");
              $("#room3").css("visibility", "visible");
              $("#room4").css("visibility", "visible");
              $("#room5").css("visibility", "visible");
              $("#notify_me > h3").html("Rooms:");
              $("#notify_inline > h4").html("5 rooms for rent").css("color", "black");
              break;
            case 4:
              $("#room1").css("visibility", "visible");
              $("#room2").css("visibility", "visible");
              $("#room3").css("visibility", "visible");
              $("#room4").css("visibility", "visible");
              $("#room5").css("visibility", "hidden");
              $("#notify_me > h3").html("Rooms:");
              $("#notify_inline > h4").html("4 rooms for rent").css("color", "black");
              break;
            case 3:
              $("#room1").css("visibility", "visible");
              $("#room2").css("visibility", "visible");
              $("#room3").css("visibility", "visible");
              $("#room4").css("visibility", "hidden");
              $("#room5").css("visibility", "hidden");
              $("#notify_me > h3").html("Rooms:");
              $("#notify_inline > h4").html("3 rooms for rent").css("color", "black");
              break;
            case 2:
              $("#room1").css("visibility", "visible");
              $("#room2").css("visibility", "visible");
              $("#room3").css("visibility", "hidden");
              $("#room4").css("visibility", "hidden");
              $("#room5").css("visibility", "hidden");
              $("#notify_me > h3").html("Rooms:");
              $("#notify_inline > h4").html("2 rooms for rent").css("color", "black");
              break;
            case 1:
              $("#room1").css("visibility", "visible");
              $("#room2").css("visibility", "hidden");
              $("#room3").css("visibility", "hidden");
              $("#room4").css("visibility", "hidden");
              $("#room5").css("visibility", "hidden");
              $("#notify_me > h3").html("Room:");
              $("#notify_inline > h4").html("1 room for rent").css("color", "black");
              break;
            case 0:
              $("#room1").css("visibility", "hidden");
              $("#room2").css("visibility", "hidden");
              $("#room3").css("visibility", "hidden");
              $("#room4").css("visibility", "hidden");
              $("#room5").css("visibility", "hidden");
              $("#notify_me > h3").html("No rooms for rent ?");
              $("#notify_inline > h4").html("No rooms for rent").css("color", "red");
              break;
            default:
              $("#notify_me > h3").html("let's start with 5 already");
              $("#notify_inline > h4").html("max 5 rooms").css("color", "red");
              console.log("let's start with 5 already");
          }
        }

    });
  <% end %>
<% end %>
